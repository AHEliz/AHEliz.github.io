<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Votaciones vigentes | ARMY</title>
    <style>
        body {
            font-family: Arial, sans-serif;
           background: #f7f7fb;
          padding: 30px;
        }
    
        h1 {
          text-align: center;
          margin-bottom: 30px;
        }
    
        /* GRID 4 COLUMNAS */
        .grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 20px;
        }
    
        .card {
          position: relative;
          cursor: pointer;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 6px 15px rgba(0,0,0,0.15);
          transition: transform 0.2s;
        }
    
        .card:hover {
          transform: scale(1.03);
        }
    
        .card img {
          width: 100%;
          height: 220px;
          object-fit: cover;
        }
    
        .card-text {
          position: absolute;
          bottom: 0;
          width: 100%;
          background: rgba(0,0,0,0.65);
          color: white;
          padding: 10px;
          text-align: center;
          font-weight: bold;
        }
    
        /* MODAL */
        .modal {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,0,0.85);
          justify-content: center;
          align-items: center;
          z-index: 999;
        }
    
        .modal-content {
          background: white;
          padding: 25px;
          border-radius: 15px;
          max-width: 500px;
          width: 90%;
        }
    
        .modal-content h2 {
          margin-top: 0;
        }
    
        .modal-content a {
          display: inline-block;
          margin-top: 10px;
          color: #6a1b9a;
          font-weight: bold;
          text-decoration: none;
        }
    
        @media (max-width: 900px) {
          .grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }
    
        @media (max-width: 500px) {
          .grid {
            grid-template-columns: 1fr;
          }
        }

        .estado {
          position: absolute;
          top: 10px;
          left: 10px;
          background: #4caf50;
          color: white;
          padding: 5px 10px;
          font-size: 12px;
          border-radius: 20px;
          font-weight: bold;
        }
        
        .por-vencer .estado {
          background: #ff9800;
        }
        
        .vencido .estado {
          background: #d32f2f;
        }
        
        .vencido img {
          filter: grayscale(100%);
          opacity: 0.6;
        }
        
        .vencido {
          cursor: not-allowed;
        }

        .filtros {
  text-align: center;
  margin-bottom: 25px;
}

.filtros button {
  margin: 5px;
  padding: 8px 15px;
  border: none;
  border-radius: 20px;
  background: #e0e0e0;
  cursor: pointer;
  font-weight: bold;
}

.filtros button:hover {
  background: #d1c4e9;
}

.filtros button {
  padding: 8px 16px;
  border-radius: 20px;
  border: none;
  background: #e5e5e5;
  cursor: pointer;
  transition: 0.2s;
}

.filtros button.activo {
  background: #7c3aed; /* morado army ðŸ’œ */
  color: white;
  box-shadow: 0 4px 10px rgba(124,58,237,0.4);
}

        </style>
</head>
<body>

    <h1>Votaciones vigentes</h1>
    <p>
        AquÃ­ encontrarÃ¡s votaciones activas y verificadas para apoyar a BTS.
        Revisa siempre la fecha lÃ­mite ðŸ’œ
    </p>

<!-- GRID DE FILTROS -->
<div class="filtros">
  <button onclick="filtrar('todas', this)" class="activo">Todas</button>
  <button onclick="filtrar('activas', this)">Activas</button>
  <button onclick="filtrar('por-vencer', this)">Por vencer</button>
  <button onclick="filtrar('vencido', this)">Vencidas</button>
</div>

    <div class="grid">
  <!-- BLOQUE 1 -->
  <div class="card"
     data-inicio="2026-01-16"
     data-fin="2026-01-25"
     onclick="abrirModal(
       '33rd Anniversary HANTEO MUSIC AWARDS 2025',
       '25.01.2026',
       'https://t.co/wIvLksMmLa',
       <a href="/guias/votaciones/#mubeat">GuÃ­a de votaciÃ³n</a>,
       'VotaciÃ³n Fancast [2nda Ronda]'
     )">
  <img src="img/fancast.png">
  <div class="card-text">FANCAST (25.01.2026)</div>
  <div class="estado"></div>
</div>


  <!-- BLOQUE 2 -->
  <div class="card"
    data-inicio="2026-01-16"
     data-fin="2026-01-25"
       onclick="abrirModal(
         'Mubeat 2025',
         '25.01.2026',
         'https://t.co/rSqZBBCwhY',
         'https://link-guia.com',
         '[Round 2] GLOBAL POPULAR ARTIST.'
       )">
    <img src="img/mubeat.png">
    <div class="card-text">MUBEAT (25.01.2026)</div>
      <div class="estado"></div>
  </div>


</div>

<!-- MODAL -->
<div id="modal" class="modal" onclick="cerrarModal()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <h2 id="modal-titulo"></h2>
    <p><strong> Fecha final:</strong> <span id="modal-fecha"></span></p>
    <p id="modal-desc"></p>

    <a id="modal-votar" target="_blank">ðŸ”— Ir a votar</a><br>
    <a id="modal-guia" target="_blank"> Ver guÃ­a</a>
  </div>
</div>

<script>
  function abrirModal(titulo, fecha, votar, guia, desc) {
    document.getElementById('modal-titulo').innerText = titulo;
    document.getElementById('modal-fecha').innerText = fecha;
    document.getElementById('modal-desc').innerText = desc;
    document.getElementById('modal-votar').href = votar;
    document.getElementById('modal-guia').href = guia;
    document.getElementById('modal').style.display = 'flex';
  }

  function cerrarModal() {
    document.getElementById('modal').style.display = 'none';
  }
</script>

    <script>
  const hoy = new Date();
  const cards = document.querySelectorAll('.card');

  cards.forEach(card => {
    const inicio = new Date(card.dataset.inicio);
    const fin = new Date(card.dataset.fin);

    const diff = Math.ceil((fin - hoy) / (1000 * 60 * 60 * 24));
    const estado = card.querySelector('.estado');

    if (hoy > fin) {
      card.classList.add('vencido');
      estado.innerText = 'VENCIDO';
      card.onclick = null;
    } else if (diff <= 3) {
      card.classList.add('por-vencer');
      estado.innerText = 'POR VENCER';
    } else if (hoy >= inicio) {
      card.classList.add('activas');
  estado.innerText = 'ACTIVO';
    } else {
      estado.innerText = 'PRÃ“XIMAMENTE';
    }
  });
</script>

<script>
    
    function filtrar(estado, boton) {
  const cards = document.querySelectorAll('.card');
  const botones = document.querySelectorAll('.filtros button');

  // quitar resaltado
  botones.forEach(b => b.classList.remove('activo'));
  boton.classList.add('activo');

  // filtrar tarjetas
  cards.forEach(card => {
    if (estado === 'todas') {
      card.style.display = 'block';
    } else {
      card.style.display = card.classList.contains(estado)
        ? 'block'
        : 'none';
    }
  });
}

</script>


</body>
</html>
